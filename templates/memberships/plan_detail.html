{% extends "base.html" %}

{% block title %}{{ plan.name }} | {{ SITE_NAME }}{% endblock title %}

{% block content %}
<section class="content-section">
  <div class="container">
    <div class="row g-5 align-items-start">
      <div class="col-lg-7">
        <p class="section-title">Membership Plan</p>
        <h1 class="section-heading">{{ plan.name }}</h1>
        <p class="lead">${{ plan.price }} &middot; {{ plan.duration_days }} day access</p>
        <p>{{ plan.description|default:"Our signature membership with unlimited classes, 24/7 gym access, and monthly wellness coaching." }}</p>
        <ul class="list-unstyled membership-benefits mt-4">
          {% for benefit in plan.benefits.all %}
            <li><i class="fa-solid fa-check"></i> {{ benefit.text }}</li>
          {% empty %}
            <li><i class="fa-solid fa-check"></i> Unlimited group classes</li>
            <li><i class="fa-solid fa-check"></i> Complimentary guest passes</li>
            <li><i class="fa-solid fa-check"></i> Access to recovery lounge</li>
          {% endfor %}
        </ul>
      </div>
      <div class="col-lg-5">
        <div class="membership-card p-4 h-100">
          <h3 class="fw-semibold mb-3">Reserve your spot at {{ SITE_NAME }}</h3>
          {% if user.is_authenticated %}
            <p class="mb-3">Choose this plan, share your phone number, and our customer service team will call within two hours to complete payment.</p>
            <a class="btn btn-gradient w-100" href="{% url 'memberships:subscribe' plan.slug %}">Request a Call to Join</a>
          {% else %}
            <p class="mb-3">Create an account to choose a membership and receive a quick call back from our specialists.</p>
            <a class="btn btn-gradient w-100" href="{% url 'accounts:register' %}">Join to Continue</a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock content %}
