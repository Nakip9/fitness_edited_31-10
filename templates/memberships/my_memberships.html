{% extends "base.html" %}

{% block title %}My Memberships | {{ SITE_NAME }}{% endblock title %}

{% block content %}
<section class="content-section">
  <div class="container">
    <div class="photo-grid mb-4">
      <div class="photo-frame" aria-hidden="true"></div>
      <div class="photo-frame photo-frame--accent" aria-hidden="true"></div>
    </div>
    <h1 class="section-heading mb-4">My memberships</h1>
    <div class="membership-card p-4 p-lg-5">
      {% if memberships %}
        <div class="table-responsive">
          <table class="table table-dark-soft align-middle">
            <thead>
              <tr>
                <th scope="col">Plan</th>
                <th scope="col">Status</th>
                <th scope="col">Start</th>
                <th scope="col">End</th>
                <th scope="col">Auto renew</th>
              </tr>
            </thead>
            <tbody>
              {% for membership in memberships %}
                <tr>
                  <td>{{ membership.plan.name }}</td>
                  <td><span class="badge bg-success text-uppercase">{{ membership.status }}</span></td>
                  <td>{{ membership.start_date|date:"M d, Y" }}</td>
                  <td>{{ membership.end_date|date:"M d, Y" }}</td>
                  <td>{{ membership.auto_renew|yesno:"Yes,No" }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        <p class="mb-0 lead text-muted">You do not have an active membership yet. <a href="{% url 'memberships:plan_list' %}">Browse plans</a>.</p>
      {% endif %}
    </div>
  </div>
</section>
{% endblock content %}
